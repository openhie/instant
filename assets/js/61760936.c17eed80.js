(self.webpackChunkinstant_hie_docs=self.webpackChunkinstant_hie_docs||[]).push([[882],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),m=p(n),d=i,h=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=m;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6182:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return r},toc:function(){return s},default:function(){return c}});var a=n(2122),i=n(9756),o=(n(7294),n(3905)),l={id:"setup-instant-with-gocli",title:"How to setup Instant OpenHIE on any platform using the GO CLI",sidebar_label:"Setup instant with GO CLI",keywords:["Instant OpenHIE","How to","Windows","MacOS","Linux"],description:"How to setup Instant OpenHIE for development on any platform using the GO CLI"},r={unversionedId:"how-to/setup-instant-with-gocli",id:"how-to/setup-instant-with-gocli",isDocsHomePage:!1,title:"How to setup Instant OpenHIE on any platform using the GO CLI",description:"How to setup Instant OpenHIE for development on any platform using the GO CLI",source:"@site/docs/how-to/setup-intant-with-gocli.mdx",sourceDirName:"how-to",slug:"/how-to/setup-instant-with-gocli",permalink:"/instant/docs/how-to/setup-instant-with-gocli",editUrl:"https://github.com/openhie/instant/tree/master/docs/docs/how-to/setup-intant-with-gocli.mdx",version:"current",sidebar_label:"Setup instant with GO CLI",frontMatter:{id:"setup-instant-with-gocli",title:"How to setup Instant OpenHIE on any platform using the GO CLI",sidebar_label:"Setup instant with GO CLI",keywords:["Instant OpenHIE","How to","Windows","MacOS","Linux"],description:"How to setup Instant OpenHIE for development on any platform using the GO CLI"},sidebar:"docs",previous:{title:"Packages",permalink:"/instant/docs/concepts/package-arch"},next:{title:"How to create an Instant OpenHIE package",permalink:"/instant/docs/how-to/creating-packages"}},s=[{value:"Overview",id:"overview",children:[]},{value:"Prerequisites",id:"prerequisites",children:[]},{value:"1. Download the GO CLI for your chosen platform",id:"1-download-the-go-cli-for-your-chosen-platform",children:[]},{value:"2. Run the CLI in interactive mode",id:"2-run-the-cli-in-interactive-mode",children:[{value:"2.1 Open your favourite terminal and run the executable file (linux and macOS)",id:"21-open-your-favourite-terminal-and-run-the-executable-file-linux-and-macos",children:[]},{value:"2.2 Follow the prompts",id:"22-follow-the-prompts",children:[]}]},{value:"3. Run the CLI in non-interactive mode",id:"3-run-the-cli-in-non-interactive-mode",children:[{value:"3.1 Open your favourite terminal and run the executable file (linux and macOS)",id:"31-open-your-favourite-terminal-and-run-the-executable-file-linux-and-macos",children:[]},{value:"3.2 Explanation of all flags and custom options",id:"32-explanation-of-all-flags-and-custom-options",children:[]}]}],p={toc:s};function c(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The Instant OpenHIE architecture, codebase, and documentation are under active development and are subject to change. While we encourage adoption and extension of the Instant OpenHIE framework, we do not consider this ready for production use at this stage."))),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The purpose of this how-to guide is to help set up a complete development environment for Instant OpenHIE on any platform using the GO CLI tool."),(0,o.kt)("p",null,"The GO CLI tool is a tool built for getting instant OpenHIE up and running through an easy to use interactive CLI and a non-interactive CLI for the more technical users."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"System requirements:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Stable internet connection with high download speeds."),(0,o.kt)("li",{parentName:"ul"},"16GB RAM."),(0,o.kt)("li",{parentName:"ul"},"At least 20GB free space."),(0,o.kt)("li",{parentName:"ul"},"Docker for your specific platform")),(0,o.kt)("h2",{id:"1-download-the-go-cli-for-your-chosen-platform"},"1. Download the GO CLI for your chosen platform"),(0,o.kt)("p",null,"The latest version of the GO CLI will be available at our ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/openhie/instant/releases"},"GitHub releases page")," under the assets section.\nFrom the list, choose the specific file that's applicable to your operating system (platform) and download it."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: MacOS currently blocks the CLI from executing due to a unknown developer issue, this is being worked on.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: Step 2 below will outline running the CLI in the interactive mode, skip to step 3 below for the non-interactive mode.")),(0,o.kt)("h2",{id:"2-run-the-cli-in-interactive-mode"},"2. Run the CLI in interactive mode"),(0,o.kt)("h3",{id:"21-open-your-favourite-terminal-and-run-the-executable-file-linux-and-macos"},"2.1 Open your favourite terminal and run the executable file (linux and macOS)"),(0,o.kt)("p",null,"e.g. using an absolute path to the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"/Projects/instant/goinstant-linux\n")),(0,o.kt)("p",null,"or using a relative path to the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"./instant/goinstant-linux\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: in Windows one can simply double click the file, but it will work in Powershell as well.")),(0,o.kt)("p",null,"Currently the file downloaded from Github will not have the correct file permissions on linux and macOS, we are working on this, but in the meantime, you can execute the following command to update the file permissions to be executable:"),(0,o.kt)("p",null,"For Linux:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"chmod 700 goinstant-linux\n")),(0,o.kt)("p",null,"For MacOS (currently not supported)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"chmod 700 goinstant-macos\n")),(0,o.kt)("h3",{id:"22-follow-the-prompts"},"2.2 Follow the prompts"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"    Use Docker on your PC\n    Use a Kubernetes Cluster\n    Install FHIR package\n    Quit\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Use Docker on your PC:")," This will open up the menu for docker installation options")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Use a Kubernetes Cluster:")," This will notify the user that the Kubernetes install options is not currently implemented.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Install FHIR package:")," This can be used to install remote FHIR packages."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"Default Install Options\nCustom Install Options\nQuit\nBack\n")),(0,o.kt)("h4",{id:"default-install-options-prompt"},"Default Install Options Prompt:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"Initialise All Packages\nInitialise Core\nInitialise Client\nInitialise Elastic-Analytics\nInitialise Elastic-Pipeline\nInitialise Electronic Medical Record\nInitialise Health Management Information System\nInitialise Health Worker\nInitialise Facility Registry\nInitialise Workforce\nStop All Services and Cleanup Docker\nStop and Cleanup Core\nStop and Cleanup Client\nStop and Cleanup Elastic-Analytics\nStop and Cleanup Elastic-Pipeline\nStop and Cleanup Electronic Medical Record\nStop and Cleanup Health Management Information System\nStop and Cleanup Health Worker\nStop and Cleanup Facility Registry\nStop and Cleanup Workforce\n")),(0,o.kt)("h4",{id:"default-install-prompt-details"},"Default Install prompt details:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise All Packages:")," This will initialise all default packages that are built into instant."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Core:")," This will initialise the core package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Client:")," This will initialise the client package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Elastic-Analytics:")," This will initialise the elastic-analytics package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Elastic-Pipeline:")," This will initialise the elastic-pipeline package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Electronic Medical Record:")," This will initialise the electronic medical record package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Health Management Information System:")," This will initialise the health management information system package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Health Worker:")," This will initialise the health worker package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Facility Registry:")," This will initialise the facility registry package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Initialise Workforce:")," This will initialise the workforce package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop All Services and Cleanup Docker:")," This will stop and remove all packages that are currently deployed."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Core:")," This will stop and remove the core package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Client:")," This will stop and remove the client package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Elastic-Analytics:")," This will stop and remove the elastic-analytics package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Elastic-Pipeline:")," This will stop and remove the elastic-pipeline package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Electronic Medical Record:")," This will stop and remove the electronic medical record package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Health Management Information System:")," This will stop and remove the health management information system package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Health Worker:")," This will stop and remove the health worker package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Facility Registry:")," This will stop and remove the facility registry package and its dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Stop and Cleanup Workforce:")," This will stop and remove the workforce package and its dependencies.")),(0,o.kt)("h4",{id:"custom-install-options-prompt"},"Custom Install Options Prompt:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"Choose deploy action (default is init)\nSpecify deploy packages\nSpecify environment variable file location\nSpecify environment variables\nSpecify custom package locations\nToggle only flag\nSpecify Instant Version\nExecute with current options\nView current options set\nReset to default options\n")),(0,o.kt)("h4",{id:"custom-install-prompt-details"},"Custom Install prompt details:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Choose deploy action (default is init):")," Choose which deploy action to execute."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Specify deploy packages:")," Specify the package IDs that you want to operate on as part of the installation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Specify environment variable file location:")," Specify a filepath to an environment variables file."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Specify environment variables:")," Specify a comma delimited list of environment variables that should be aplied to the instant OpenHIE docker container."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Specify custom package locations:")," Specify a comma delimited list of paths (filepaths or URLs) to custom packages."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Toggle only flag:")," This will toggle the only flag between an on and off state to enable isolation of the deploy action to only operate on specific packages."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Specify Instant Version:")," Specify which release version of instant OpenHIE to use."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Execute with current options:")," Run the docker command to create and start up the instant OpenHIE docker container to install the rest of the services based on the custom options selected."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"View current options set:")," Print out the current selected options to the CLI."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Reset to default options:")," Reset the current selected options to the default options to clear selection.")),(0,o.kt)("h4",{id:"back--quit"},"Back & Quit:"),(0,o.kt)("p",null,"These options are available at every prompt."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Back:")," This option will take the user back one command so that they can make a different selection."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Quit:")," This option will terminate the execution of the GO CLI as well as stopping the instant OpenHIE docker container.")),(0,o.kt)("h2",{id:"3-run-the-cli-in-non-interactive-mode"},"3. Run the CLI in non-interactive mode"),(0,o.kt)("h3",{id:"31-open-your-favourite-terminal-and-run-the-executable-file-linux-and-macos"},"3.1 Open your favourite terminal and run the executable file (linux and macOS)"),(0,o.kt)("p",null,"e.g. using an absolute path to the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"/Projects/instant/goinstant-linux\n")),(0,o.kt)("p",null,"or using a relative path to the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"./instant/goinstant-linux\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: in Windows it's best to run non-interactive through Powershell.")),(0,o.kt)("p",null,"Currently the file downloaded from Github will not have the correct file permissions on linux and macOS, we are working on this, but in the meantime, you can execute the following command to update the file permissions to be executable:"),(0,o.kt)("p",null,"For Linux:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"chmod 700 goinstant-linux\n")),(0,o.kt)("p",null,"For MacOS (currently not supported):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"chmod 700 goinstant-macos\n")),(0,o.kt)("h3",{id:"32-explanation-of-all-flags-and-custom-options"},"3.2 Explanation of all flags and custom options"),(0,o.kt)("h4",{id:"custom-install-details"},"Custom Install details:"),(0,o.kt)("p",null,"Format:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"<binary-file> [args]\n")),(0,o.kt)("p",null,"e.g."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'.\\goinstant.exe docker init core data-analytics only --env-file="C:\\Projects\\hiv-case-reporting\\.env" -e="DOMAIN_NAME=testDomain" -e="OPENHIM_URL=testDomain.openhim.org" -c="C:\\Projects\\packages\\data-analytics" -c="C:\\Projects\\packages\\data-pipeline --instant-version="latest"\n')),(0,o.kt)("p",null,"At least two of the following arguments is required (values in brackets are from above example):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Target(docker):")," docker is the only supported option at the moment."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Deploy action(init):")," init, destroy, up, down or test"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Deploy packages(core data-analytics):")," Specify the package IDs that you want to operate on as part of the installation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},'Specify environment variable file location(--env-file="C:\\Projects\\hiv-case-reporting',".",'env"):')," Specify a filepath to an environment variables file."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},'Specify environment variables(-e="DOMAIN_NAME=testDomain"):')," Specify an environment variable that should be aplied to the instant OpenHIE docker container."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},'Specify custom package locations(-c="C:\\Projects\\packages\\data-pipeline"):')," Specify a comma delimited list of paths (filepaths or URLs) to custom packages."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Toggle only flag(only):")," This will enable isolation of the deploy action to only operate on specified packages and not take their dependency tree into consideration."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},'Instant openHIE Image Version(--instant-version="latest"):')," Specify the version of the instant openHIE image to use.")))}c.isMDXComponent=!0}}]);