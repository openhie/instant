<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/instant/blog/rss.xml" title="Instant OpenHIE Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/instant/blog/atom.xml" title="Instant OpenHIE Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Instant OpenHIE" href="/instant/opensearch.xml"><title data-react-helmet="true">How to configure OpenHIM Mapping Mediator | Instant OpenHIE</title><meta data-react-helmet="true" property="og:url" content="https://openhie.github.io/instant/docs/how-to/configure-openhim-mapping-mediator"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to configure OpenHIM Mapping Mediator | Instant OpenHIE"><meta data-react-helmet="true" name="description" content="How to configure OpenHIM Mapping Mediator"><meta data-react-helmet="true" property="og:description" content="How to configure OpenHIM Mapping Mediator"><meta data-react-helmet="true" name="keywords" content="Instant OpenHIE,How to,Creating packages,OpenHIM,OpenHIM Mapping Mediator"><link data-react-helmet="true" rel="shortcut icon" href="/instant/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://openhie.github.io/instant/docs/how-to/configure-openhim-mapping-mediator"><link data-react-helmet="true" rel="alternate" href="https://openhie.github.io/instant/docs/how-to/configure-openhim-mapping-mediator" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openhie.github.io/instant/docs/how-to/configure-openhim-mapping-mediator" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/instant/assets/css/styles.65446951.css">
<link rel="preload" href="/instant/assets/js/runtime~main.0e6f2edd.js" as="script">
<link rel="preload" href="/instant/assets/js/main.b47b0970.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/instant/"><img src="/instant/img/IOHIE-icon-medium.png" alt="Instant OpenHIE Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/instant/img/IOHIE-icon-medium.png" alt="Instant OpenHIE Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Instant OpenHIE</strong></a><a class="navbar__item navbar__link" href="/instant/docs/introduction/vision">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openhie/instant" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/instant/"><img src="/instant/img/IOHIE-icon-medium.png" alt="Instant OpenHIE Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/instant/img/IOHIE-icon-medium.png" alt="Instant OpenHIE Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Instant OpenHIE</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/instant/docs/introduction/vision">Docs</a></li><li class="menu__list-item"><a href="https://github.com/openhie/instant" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/introduction/vision">Vision</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/introduction/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/introduction/community">Community</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/concepts/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/concepts/package-arch">Packages</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How-to</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/instant/docs/how-to/creating-packages">Create packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/instant/docs/how-to/setup-kubernetes-in-cloud">Setup managed Kubernetes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/instant/docs/how-to/configure-openhim-mapping-mediator">Configure OpenHIM Mapping Mediator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/instant/docs/how-to/configure-dhis2">Configure HMIS (DHIS2)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Existing Packages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/core">Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/facility">Facility-Registry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/hmis">Health Management Information System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/health-worker">Health-Worker-Registry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/health-workforce">Health-Workforce</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/client">Client-Registry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/packages/elastic">Elastic analytics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">More Information</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/instant/docs/more-info/architecture">Architecture</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">How to configure OpenHIM Mapping Mediator</h1></header><div class="markdown"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The Instant OpenHIE architecture, codebase, and documentation are under active development and are subject to change. While we encourage adoption and extension of the Instant OpenHIE framework, we do not consider this ready for production use at this stage.</p></div></div><p><a href="http://openhim.org/docs/user-guide/mediators" target="_blank" rel="noopener noreferrer">OpenHIM mediators</a> are HTTP services that are registered and tracked by the OpenHIM Core. As such, a mediator is not unique in the way it is set up for use in an Instant OpenHIE package. The only requirement is that it be packaged as a Docker image.</p><p>The <a href="https://jembi.github.io/openhim-mediator-mapping" target="_blank" rel="noopener noreferrer">OpenHIM Mapping Mediator</a>, however, is a bit more sophisticated than the average OpenHIM mediator as it is generic and designed for re-use. This mediator usually requires an endpoint configuration(s) to be imported once the mediator is up and running. The endpoint config payload can be sent as a POST request to the <code>/endpoints</code> path of the mediator. For more information on the Mapping Mediator endpoints, read <a href="https://jembi.github.io/openhim-mediator-mapping/docs/gettingStarted/endpoints" target="_blank" rel="noopener noreferrer">here</a>.</p><blockquote><p>Note: This guide assumes that you have an existing custom package and that the OpenHIM Mapping Mediator is already set up but has not been configured with endpoints.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="importing-endpoints"></a>Importing Endpoints<a class="hash-link" href="#importing-endpoints" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="docker"></a>Docker<a class="hash-link" href="#docker" title="Direct link to heading">#</a></h3><p>To import the mediator endpoint config in an Instant OpenHIE package we use the Instant OpenHIE Config Importer docker image. In your package source code repository, under the <code>docker</code> directory, create an <code>importer</code> directory. Your directory structure should now look like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">example-package/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ docker/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ importer/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â””â”€â”€ ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Under the importer subdirectory of the docker directory, add a file named <code>docker-compose.config.yml</code> with the following contents:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;3.3&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># container for executing config import scripts for setting up initial config</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">example-endpoint-config-importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jembi/instantohie</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">latest</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">failure</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">MEDIATOR_HOSTNAME</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;example-mediator&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">MEDIATOR_API_PORT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3003</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> volume</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule">source</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> instant</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule">target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /instant</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># This command will only attempt to import the covid19immunization-mediator config when the uptime endpoint responds with 200</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sh </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">c &quot;wait</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">on </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">t 60000 http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">mediator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">3003/uptime </span><span class="token important">&amp;&amp;</span><span class="token plain"> sleep 1 </span><span class="token important">&amp;&amp;</span><span class="token plain"> node /instant/example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">package/docker/importer/volume/endpoint.js&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">instant</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">external</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The previous example will set up a docker container that will run a custom Node.js script that can send the endpoint config to a running instance of the mediator. The <code>command</code> for running this container waits for the mediator to be up and running before the import script (endpoint.js) is started.</p><p>Next, add the following files under a new volume subdirectory of the docker importer directory (<code>docker/importer/volume</code>). Add the following files for the volume directory:</p><ul><li><code>example-endpoint.json</code> - the example endpoint configuration file to be imported. For more details on endpoint configs, visit the <a href="https://jembi.github.io/openhim-mediator-mapping/docs/gettingStarted/endpoints" target="_blank" rel="noopener noreferrer">OpenHIM Mapping Mediator Endpoint Docs</a>.</li><li><code>endpoint.js</code> - a Node.js script that is capable of importing the <code>example-endpoint.json</code> contents into a Mapping Mediator instance.</li></ul><p>Finally, update the contents of your docker <code>docker/compose.sh</code> script to include the importer docker-compose file. The file could look like the following when updated:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">#!/bin/bash</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">sleep 10</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">composeFilePath=$( cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; ; pwd -P )</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">if [ &quot;$1&quot; == &quot;init&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    docker-compose -p instant -f &quot;$composeFilePath&quot;/docker-compose.yml -f &quot;$composeFilePath&quot;/docker-compose.dev.yml -f &quot;$composeFilePath&quot;/importer/docker-compose.config.yml up -d</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">elif [ &quot;$1&quot; == &quot;up&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    docker-compose -p instant -f &quot;$composeFilePath&quot;/docker-compose.yml -f &quot;$composeFilePath&quot;/docker-compose.dev.yml up -d</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">elif [ &quot;$1&quot; == &quot;down&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    docker-compose -p instant -f &quot;$composeFilePath&quot;/docker-compose.yml -f &quot;$composeFilePath&quot;/docker-compose.dev.yml -f &quot;$composeFilePath&quot;/importer/docker-compose.config.yml stop</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">elif [ &quot;$1&quot; == &quot;destroy&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    docker-compose -p instant -f &quot;$composeFilePath&quot;/docker-compose.yml -f &quot;$composeFilePath&quot;/docker-compose.dev.yml -f &quot;$composeFilePath&quot;/importer/docker-compose.config.yml down</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">else</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    echo &quot;Valid options are: init, up, down, or destroy&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">fi</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The directory structure should now look like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">example-package/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ docker/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ importer/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚       â”œâ”€â”€ volume/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ endpoint.js</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ example-endpoint.json</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚       â”œâ”€â”€ docker-compose.config.yml</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ compose.sh</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ ...</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>With all of the docker setup in place, it is now time to import the endpoint in Kubernetes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="kubernetes"></a>Kubernetes<a class="hash-link" href="#kubernetes" title="Direct link to heading">#</a></h2><p>For Kubernetes, create an importer directory under the <code>kubernetes</code> directory. Under the importer directory, add the following files and directories:</p><ul><li><code>example-endpoint-importer-job.yaml</code> - similar to the <code>docker-compose.config.yml</code> of the docker scripts, this file will create a Kubernetes <a href="https://kubernetes.io/docs/concepts/workloads/controllers/job/" target="_blank" rel="noopener noreferrer">job</a> that will be responsible for running the <code>endpoint.js</code> script.</li><li><code>k8s.sh</code> - to configure, start, and stop the Kubernetes importer jobs.</li><li><code>kustomization.yaml</code> - a tool for customizing Kubernetes configurations. More kubernetes information <a href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/kustomization/" target="_blank" rel="noopener noreferrer">here</a>.</li><li><code>volume/</code> - this directory will be the same as its docker counterpart. You can copy the docker version and all its contents to this Kubernetes destination.</li></ul><p>The package directory structure should now look like the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">example-package/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ docker/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ importer/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚       â”œâ”€â”€ volume/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ endpoint.js</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ example-endpoint.json</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚       â”œâ”€â”€ docker-compose.config.yml</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ compose.sh</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ ...</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ kubernetes/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ importer/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚       â”œâ”€â”€ volume/</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ endpoint.js</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚           â”œâ”€â”€ example-endpoint.json</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ example-endpoint-importer-job.yaml</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ k8s.sh</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ kustomization.yaml</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”‚   â”œâ”€â”€ ...</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">â”œâ”€â”€ ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Add the following contents to the <code>example-endpoint-importer-job.yaml</code> file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> batch/v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Job</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">job</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">app.kubernetes.io/name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">app.kubernetes.io/instance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">app.kubernetes.io/version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;0.1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">app.kubernetes.io/component</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> examplePackage</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">backoffLimit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">template</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">initContainers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">check</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">status</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> busybox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">1.28</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;sh&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;-c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;until telnet mapper-service 3003; do echo Mapping mediator not running yet; sleep 10; done;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">containers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jembi/instantohie</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">latest</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> sh</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">c</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> wait</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">on </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">t 60000 http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">//example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">3003/uptime </span><span class="token important">&amp;&amp;</span><span class="token plain"> node endpoint.js</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">env</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> MEDIATOR_HOST_NAME</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;example-mapper-service&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> MEDIATOR_API_PORT</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;3003&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">volumeMounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">mountPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">              </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">restartPolicy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> OnFailure</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">configMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">configmap</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Just like the docker-compose.config.yml, this script will run a <code>jembi/instantohie-config-importer</code> container as a Kubernetes job. The script will wait for the OpenHIM Mapping Mediator service/pod to be ready before it executes the <code>endpoint.js</code> script.</p><p>Add the following code to the <code>kustomization.yml</code> file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token key atrule">configMapGenerator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">configmap</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">files</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./volume/endpoint.js</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> ./example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">importer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">job.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This config generates a Kubernetes <code>configMap</code> for the <code>example-endpoint-importer</code> job based on the contents of the <code>example-endpoint-importer-job.yaml</code> Kubernetes file.</p><p>Finally, update the <code>k8s.sh</code> file with the following script:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="token plain">#!/bin/bash</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">k8sImporterRootFilePath=$( cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; ; pwd -P )</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">if [ &quot;$1&quot; == &quot;up&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    kubectl apply -k $k8sImporterRootFilePath</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">elif [ &quot;$1&quot; == &quot;clean&quot; ]; then</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    kubectl delete -k $k8sImporterRootFilePath</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    kubectl delete jobs --all</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">else</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    echo &quot;Valid options are: up, or clean&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">fi</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>With everything set up, you should now be able to start Instant OpenHIE with your custom package and the OpenHIM Mapping Mediator should be running and successfully configured.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="useful-links"></a>Useful Links<a class="hash-link" href="#useful-links" title="Direct link to heading">#</a></h2><ul><li><a href="https://openhie.github.io/instant/" target="_blank" rel="noopener noreferrer">Instant OpenHIE docs</a></li><li><a href="http://openhim.org/" target="_blank" rel="noopener noreferrer">OpenHIM</a></li><li><a href="https://jembi.github.io/openhim-mediator-mapping/" target="_blank" rel="noopener noreferrer">OpenHIM Mapping Mediator</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/openhie/instant/tree/master/docs/docs/how-to/configure-openhim-mapping-mediator.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/instant/docs/how-to/setup-kubernetes-in-cloud"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« How to setup managed Kubernetes in the cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/instant/docs/how-to/configure-dhis2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to configure the HMIS (DHIS2) Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#importing-endpoints" class="table-of-contents__link">Importing Endpoints</a><ul><li><a href="#docker" class="table-of-contents__link">Docker</a></li></ul></li><li><a href="#kubernetes" class="table-of-contents__link">Kubernetes</a></li><li><a href="#useful-links" class="table-of-contents__link">Useful Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://ohie.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenHIE</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div></div></div></footer></div>
<script src="/instant/assets/js/runtime~main.0e6f2edd.js"></script>
<script src="/instant/assets/js/main.b47b0970.js"></script>
</body>
</html>